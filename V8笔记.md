

## Source to Binary Jounrney of V8 javascript engine

https://speakerdeck.com/brn/source-to-binary-journey-of-v8-javascript-engine-english-version

## Turbofan

Turbofan是V8用来编译字节码的组件，编译开始时会基于字节码生成IR，然后在IR的基础上生成图（Graph）并进行优化。

Turbofan对图的优化包括：

- inline 内联函数调用
- trimming 未到达节点删除
- type 类型推断
- typed-lowering 根据类型将表达式和指令替换为更简单的处理
- loop-peeling 取出循环内的处理
- loop-exit-elimination 删除Loop Exit
- load-elimination 删除不必要的读取和检查
- simplified-lowering 用更具体的值来进行指令的简单转换
- generic-lowering 将JS前缀指令转换为更简单的调用和stub调用
- dead-code-elimination 删除无法访问的代码

最终，InstructionSelector分配寄存器，依据Graph，CodeGenerator将生成机器码，并将汇编代码写入ProgramCounter

## An Introduction to Speculative Optimization in V8

https://ponyfoo.com/articles/an-introduction-to-speculative-optimization-in-v8

